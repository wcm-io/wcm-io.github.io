
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2021-06-11
 Rendered using Reflow Maven Skin 1.1.0 (https://github.com/wcm-io/wcm-io-tooling/tree/develop/maven/skins/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

  <head>
    <meta charset="UTF-8" />
    <title>Managing Maven Dependencies for AEM Mocks | AEM Mocks</title>

    <link rel="shortcut icon" href="https://wcm.io/images/favicon.ico">
    <link rel="apple-touch-icon" href="https://wcm.io/images/favicon-152.png">

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="wcm.io - Libraries and extensions for AEM applications" />
    <meta http-equiv="content-language" content="en" />

    <link href="https://wcm.io/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://wcm.io/css/docs.css" rel="stylesheet" />
    <link href="https://wcm.io/css/reflow-skin.css" rel="stylesheet" />
    <link href="https://wcm.io/css/highlightjs-style-github.min.css" rel="stylesheet" />

    <link href="https://wcm.io/css/lightbox.css" rel="stylesheet" />

    <link href="https://wcm.io/css/site.css" rel="stylesheet" />
    <link href="https://wcm.io/css/print.css" rel="stylesheet" media="print" />


  </head>

  <body class="page-usage-maven-dependencies project-io.wcm.testing.aem-mock.root" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../..">wcm.io</a>
          <div class="nav-collapse collapse" id="top-nav-collapse">
            <ul class="nav pull-right">
              <li ><a href="https://github.com/wcm-io" title="GitHub project" class="externalLink">GitHub project</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Categories <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li ><a href="../../wcm/" title="WCM">WCM</a></li>
                  <li ><a href="../../dam/" title="DAM">DAM</a></li>
                  <li ><a href="../../caconfig/" title="Context-Aware Configuration">Context-Aware Configuration</a></li>
                  <li ><a href="../../handler/" title="Handler">Handler</a></li>
                  <li ><a href="../../sling/" title="Sling">Sling</a></li>
                  <li ><a href="../" title="Testing">Testing</a></li>
                  <li ><a href="../../samples/" title="Samples">Samples</a></li>
                  <li ><a href="../../tooling/" title="Tooling">Tooling</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contribute <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li ><a href="../../contribute.html" title="Contribute">Contribute</a></li>
                  <li ><a href="../../manifest.html" title="Manifest">Manifest</a></li>
                  <li ><a href="https://wcm-io.atlassian.net" title="Issues" class="externalLink">Issues</a></li>
                  <li ><a href="https://wcm-io.atlassian.net/wiki/" title="Wiki" class="externalLink">Wiki</a></li>
                  <li ><a href="../../mailing-lists.html" title="Mailing Lists">Mailing Lists</a></li>
                  <li ><a href="https://github.com/wcm-io" title="Fork on GitHub" class="externalLink">Fork on GitHub</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  <div class="container">

  <!-- Masthead
  ================================================== -->

  <header>
  <div class="jumbotron subhead">
    <div class="row" id="banner">
      <div class="span12">
        <div class="pull-left">
          <a href="../../" id="bannerLeft"><h1><img src="https://wcm.io/images/favicon-16@3x.png"/> wcm.io</h1></a>
          <p class="lead">Libraries and extensions for AEM applications</p>
        </div>
        <div class="pull-right">
        </div>
      </div>
    </div>
  </div>
    <div>
      <ul class="breadcrumb">
        <li><a href="../../" title="wcm.io">wcm.io</a></li>
        <li class="divider">/</li>
        <li><a href="../index.html" title="Testing">Testing</a></li>
        <li class="divider">/</li>
        <li><a href="index.html" title="AEM Mocks">AEM Mocks</a></li>
        <li class="divider">/</li>
        <li>Managing Maven Dependencies for AEM Mocks</li>
      </ul>
    </div>
  </header>

  <div class="main-body">
  <div class="row">
    <div class="span8">
      <div class="body-content">
<section> 
 <div class="page-header">
  <h2 id="Managing_Maven_Dependencies_for_AEM_Mocks">Managing Maven Dependencies for AEM Mocks</h2>
 </div> 
 <section> 
  <h3 id="AEM_Mocks_Dependency">AEM Mocks Dependency</h3> 
  <p>To use AEM Mocks, you have to include the AEM Mock Dependency for JUnit 5:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>&lt;dependency&gt;
  &lt;groupId&gt;io.wcm&lt;/groupId&gt;
  &lt;artifactId&gt;io.wcm.testing.aem-mock.junit5&lt;/artifactId&gt;
  &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</pre> 
   </div> 
  </div> 
  <p>or for JUnit 4:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>&lt;dependency&gt;
  &lt;groupId&gt;io.wcm&lt;/groupId&gt;
  &lt;artifactId&gt;io.wcm.testing.aem-mock.junit4&lt;/artifactId&gt;
  &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</pre> 
   </div> 
  </div> 
  <p>Additionally you will usually include additional testing dependencies for JUnit 5/4 itself, and probably other Libraries like Mockito. See also <a class="externalLink" href="https://wcm-io.atlassian.net/wiki/x/AYAmJ">this guide</a> how to migrate AEM Mocks from JUnit 4 to JUnit 5.</p> 
 </section> 
 <section> 
  <h3 id="Log_configuration_for_Unit_Test">Log configuration for Unit Test</h3> 
  <p>It is recommend to also include this dependency:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.sling&lt;/groupId&gt;
  &lt;artifactId&gt;org.apache.sling.testing.logging-mock&lt;/artifactId&gt;
  &lt;version&gt;2.0.0&lt;/version&gt;
&lt;/dependency&gt;
</pre> 
   </div> 
  </div> 
  <p>It contains a dependency to <code>slf4-simple</code>, and a sensible default configuration for SLF4J within the unit tests.</p> 
 </section> 
 <section> 
  <h3 id="Further_Sling_and_AEM_dependencies">Further Sling and AEM dependencies</h3> 
  <p>AEM Mocks (and the underlying libraries like Sling Mocks) are designed to work with a broader range of AEM versions and not only the current version (see <a class="externalLink" href="https://wcm.io/testing/aem-mock/#AEM_Version_Support_Matrix">AEM Version Support Matrix</a>). AEM Mocks relies on a set of additional transitive Maven dependencies for certain internal Sling bundles that are not part of the AEM SDK API (or “Uber Jar”). For supporting also older version of AEM the versions included by default of those bundles are older ones as well, roughly matching the oldest supported AEM version. This may lead to the problem that some features e.g. in Sling Models that are available in the more recent version of AEM will not work in the unit tests.</p> 
  <p>The solution is to update the versions of the transitive dependencies to the version that are actually running in the AEM version you are targeting with your application.</p> 
  <p>To make this easier the wcm.io project maintains the <a class="externalLink" href="https://wcm.io/tooling/maven/aem-dependencies.html">AEM Dependencies</a> - which is a POM for each AEM version and each AEM service pack which includes:</p> 
  <ul> 
   <li>The AEM SDK API / “Uber Jar” Version</li> 
   <li>All “internal” dependencies required for AEM Mocks and Sling Mocks in the matching versions</li> 
   <li>Further dependencies includes in AEM but not in the AEM Uber Jar</li> 
  </ul> 
  <p>You can include this POM with <code>import</code> scope into your project - example for AEMaaCS:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>&lt;dependency&gt;
  &lt;groupId&gt;io.wcm.maven&lt;/groupId&gt;
  &lt;artifactId&gt;io.wcm.maven.aem-cloud-dependencies&lt;/artifactId&gt;
  &lt;version&gt;&lt;!-- latest version --&gt;&lt;/version&gt;
  &lt;type&gt;pom&lt;/type&gt;
  &lt;scope&gt;import&lt;/scope&gt;
&lt;/dependency&gt;
</pre> 
   </div> 
  </div> 
  <p>Example for AEM 6.5 an below:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>&lt;dependency&gt;
  &lt;groupId&gt;io.wcm.maven&lt;/groupId&gt;
  &lt;artifactId&gt;io.wcm.maven.aem-dependencies&lt;/artifactId&gt;
  &lt;version&gt;&lt;!-- AEM/Service Pack version --&gt;&lt;/version&gt;
  &lt;type&gt;pom&lt;/type&gt;
  &lt;scope&gt;import&lt;/scope&gt;
&lt;/dependency&gt;
</pre> 
   </div> 
  </div> 
 </section> 
 <section> 
  <h3 id="Order_of_dependencies">Order of dependencies</h3> 
  <p>It is recommended to include the AEM Mock dependencies with <code>test</code> scope always <i>before</i> the AEM Uber Jar dependencies within you bundle projects.</p> 
 </section> 
</section>
      </div>
    </div>
    <div class="span4">
      <div id="toc-sidebar">
        <div class="well">
          <ul class="nav nav-list">
            <li class="nav-header">Table of Contents</li>
    <li class="dropdown"><a href="#Managing_Maven_Dependencies_for_AEM_Mocks" title="Managing Maven Dependencies for AEM Mocks">Managing Maven Dependencies for AEM Mocks <b class="caret"></b></a>
      <ul class="nav nav-list">
    <li><a href="#AEM_Mocks_Dependency" title="AEM Mocks Dependency">AEM Mocks Dependency</a>
    <li><a href="#Log_configuration_for_Unit_Test" title="Log configuration for Unit Test">Log configuration for Unit Test</a>
    <li><a href="#Further_Sling_and_AEM_dependencies" title="Further Sling and AEM dependencies">Further Sling and AEM dependencies</a>
    <li><a href="#Order_of_dependencies" title="Order of dependencies">Order of dependencies</a>
        <li class="divider"></li>
      </ul>
    </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  </div>

  </div>

  <!-- Footer
  ================================================== -->
  <footer class="well">
    <div class="container">
      <div class="row">
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Main</li>
            <li >
              <a href="../../" title="Home">Home</a>
            </li>
            <li >
              <a href="../../platforms.html" title="Platforms">Platforms</a>
            </li>
            <li >
              <a href="../../maven.html" title="Maven Repositories">Maven Repositories</a>
            </li>
            <li >
              <a href="https://github.com/wcm-io" title="GitHub project" class="externalLink">GitHub project</a>
            </li>
            <li >
              <a href="../../subprojects.html" title="Subprojects">Subprojects</a>
            </li>
            <li >
              <a href="http://www.apache.org/licenses/LICENSE-2.0.txt" title="License" class="externalLink">License</a>
            </li>
            <li >
              <a href="../../commercial-support.html" title="Commercial Support">Commercial Support</a>
            </li>
            <li >
              <a href="https://diva-e.com/en/imprint/" title="Imprint" class="externalLink">Imprint</a>
            </li>
            <li >
              <a href="../../privacy.html" title="Privacy Policy">Privacy Policy</a>
            </li>
          </ul>
        </div>
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Categories</li>
            <li >
              <a href="../../wcm/" title="WCM">WCM</a>
            </li>
            <li >
              <a href="../../dam/" title="DAM">DAM</a>
            </li>
            <li >
              <a href="../../caconfig/" title="Context-Aware Configuration">Context-Aware Configuration</a>
            </li>
            <li >
              <a href="../../handler/" title="Handler">Handler</a>
            </li>
            <li >
              <a href="../../sling/" title="Sling">Sling</a>
            </li>
            <li >
              <a href="../" title="Testing">Testing</a>
            </li>
            <li >
              <a href="../../samples/" title="Samples">Samples</a>
            </li>
            <li >
              <a href="../../tooling/" title="Tooling">Tooling</a>
            </li>
          </ul>
        </div>
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Contribute</li>
            <li >
              <a href="../../contribute.html" title="Contribute">Contribute</a>
            </li>
            <li >
              <a href="../../manifest.html" title="Manifest">Manifest</a>
            </li>
            <li >
              <a href="https://wcm-io.atlassian.net" title="Issues" class="externalLink">Issues</a>
            </li>
            <li >
              <a href="https://wcm-io.atlassian.net/wiki/" title="Wiki" class="externalLink">Wiki</a>
            </li>
            <li >
              <a href="../../mailing-lists.html" title="Mailing Lists">Mailing Lists</a>
            </li>
            <li >
              <a href="https://github.com/wcm-io" title="Fork on GitHub" class="externalLink">Fork on GitHub</a>
            </li>
          </ul>
        </div>
        <div class="span3 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Maven documentation</li>
            <li >
              <a href="project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
            </li>
            <li >
              <a href="project-reports.html" title="Project Reports">Project Reports <i class="icon-chevron-right"></i></a>
            </li>
          </ul>
        </div>
        <div class="span3 bottom-description">
          <blockquote>wcm.io is an Open Source project which provides libraries and extensions for AEM-based applications.</blockquote>
        </div>
      </div>
    </div>
  </footer>

  <div class="container subfooter">
    <div class="row">
      <div class="span12">
        <p class="pull-right"><a href="#">Back to top</a></p>
        <p class="copyright">Copyright &copy;2014-2021 <a href="https://wcm.io">wcm.io</a>. All Rights Reserved.</p>
        <p class="version-date"><span class="projectVersion">Version: 4.0.5-SNAPSHOT. </span><span class="publishDate">Last Published: 2021-06-11. </span></p>
      </div>
    </div>
  </div>

  <!-- JavaScript
  ================================================== -->
  <script src="https://wcm.io/js/jquery.min.js"></script>
  <script src="https://wcm.io/js/bootstrap.min.js"></script>
  <script src="https://wcm.io/js/lightbox.min.js"></script>
  <script src="https://wcm.io/js/reflow-scroll.js"></script>
  <script src="https://wcm.io/js/highlight.min.js"></script>


  <script src="https://wcm.io/js/reflow-skin.js"></script>

  </body>
</html>