<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia 2.0.0
 Rendered using Reflow Maven Skin 1.3.4 (https://github.com/wcm-io/wcm-io-tooling/tree/develop/maven/skins/reflow-maven-skin)
-->
<html xml:lang="en" lang="en">

  <head>
    <meta charset="UTF-8" />
    <title>Field Validation | wcm.io</title>

    <link rel="shortcut icon" href="https://wcm.io/images/favicon.ico">
    <link rel="apple-touch-icon" href="https://wcm.io/images/favicon-152.png">

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="wcm.io - Libraries and extensions for AEM applications" />
    <meta http-equiv="content-language" content="en" />

    <link href="https://wcm.io/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://wcm.io/css/docs.css" rel="stylesheet" />
    <link href="https://wcm.io/css/reflow-skin.css" rel="stylesheet" />
    <link href="https://wcm.io/css/highlightjs-style-github.min.css" rel="stylesheet" />

    <link href="https://wcm.io/css/lightbox.css" rel="stylesheet" />

    <link href="https://wcm.io/css/site.css" rel="stylesheet" />
    <link href="https://wcm.io/css/print.css" rel="stylesheet" media="print" />

  </head>

  <body class="page-validation project-io.wcm.caconfig.editor.root" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target" id="body">

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../..">wcm.io</a>
          <div class="nav-collapse collapse" id="top-nav-collapse">
            <ul class="nav pull-right">
              <li ><a href="https://github.com/wcm-io" title="GitHub project" class="externalLink">GitHub project</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Categories <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li ><a href="../../wcm/" title="WCM">WCM</a></li>
                  <li ><a href="../" title="Context-Aware Configuration">Context-Aware Configuration</a></li>
                  <li ><a href="../../handler/" title="Handler">Handler</a></li>
                  <li ><a href="../../sling/" title="Sling Extensions">Sling Extensions</a></li>
                  <li ><a href="../../testing/" title="Testing">Testing</a></li>
                  <li ><a href="../../samples/" title="Samples">Samples</a></li>
                  <li ><a href="../../tooling/" title="Tooling">Tooling</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contribute <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li ><a href="../../contribute.html" title="Contribute">Contribute</a></li>
                  <li ><a href="../../manifest.html" title="Manifest">Manifest</a></li>
                  <li ><a href="https://github.com/wcm-io" title="Issues" class="externalLink">Issues</a></li>
                  <li ><a href="https://wcm-io.atlassian.net/wiki/" title="Wiki" class="externalLink">Wiki</a></li>
                  <li ><a href="../../mailing-lists.html" title="Mailing Lists">Mailing Lists</a></li>
                  <li ><a href="https://github.com/wcm-io" title="Fork on GitHub" class="externalLink">Fork on GitHub</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  <div class="container">

  <!-- Masthead
  ================================================== -->

  <header>
  <div class="jumbotron subhead">
    <div class="row" id="banner">
      <div class="span12">
        <div class="pull-left">
          <a href="../../" id="bannerLeft"><h1><img src='https://wcm.io/images/favicon-16@3x.png'/> wcm.io</h1></a>
          <p class="lead">Libraries and extensions for AEM applications</p>
        </div>
        <div class="pull-right">
        </div>
      </div>
    </div>
  </div>
    <div>
      <ul class="breadcrumb">
        <li><a href="../../" title="wcm.io">wcm.io</a></li>
        <li class="divider">/</li>
        <li><a href="../" title="Context-Aware Configuration">Context-Aware Configuration</a></li>
        <li class="divider">/</li>
        <li><a href="./" title="Context-Aware Configuration Editor">Context-Aware Configuration Editor</a></li>
        <li class="divider">/</li>
        <li>Field Validation</li>
      </ul>
    </div>
  </header>

  <div class="main-body">
  <div class="row">
    <div class="span8">
      <div class="body-content">
<section>
 <section>
  <a id="Field_Validation"></a>
  <div class="page-header">
   <h2 id="field_validation">Field Validation</h2>
  </div>
  <section>
   <a id="Overview"></a>
   <h3 id="overview">Overview</h3>
   <p>By default, the Context-Aware Configuration Editor does not apply any validation on the data entered by the user, except making sure the data matches the selected data type (e.g. for integer parameters, only numeric input is allowed).</p>
   <p>It is possible to define a validation for text-based input fields validating against predefined or custom rules.</p>
   <p><em>To use this, you need to deploy the optional dependency <code>io.wcm.sling.commons</code>.</em></p>
  </section>
  <section>
   <a id="Configuring_validation"></a>
   <h3 id="configuring_validation">Configuring validation</h3>
   <p>Example for configuring a validation:</p>
   <pre><code class="language-java">@Property(label = "E-Mail", property = {
    "validation=wcmio.email",
    "validationMessage=Please enter a valid email address."
})
String email();
</code></pre>
   <p>The validator referenced via the <code>validation</code> property can be:</p>
   <ul>
    <li>A Granite UI foundation validator registered in AEM that can also be used in edit dialogs</li>
    <li>A custom validator provided by the AEM project to synchronous or asynchronous validation</li>
   </ul>
   <p>The <code>validationMessage</code> is displayed to the user when the validation detects an invalid value. It can be a text, or an i18n key looked up in the AEM i18n dictionaries.</p>
   <p>Validation support is implemented for the following widget types:</p>
   <ul>
    <li><code>textfield</code></li>
    <li><code>textarea</code></li>
    <li><code>pathbrowser</code></li>
   </ul>
  </section>
  <section>
   <a id="Validating_with_Granite_UI_foundation_validators"></a>
   <h3 id="validating_with_granite_ui_foundation_validators">Validating with Granite UI foundation validators</h3>
   <p>AEM provides very few built-in validators to be used in edit dialogs, but they can be added via 3rd-party libraries like <a href="https://wcm.io/wcm/ui/granite/" class="externalLink">wcm.io WCM Granite UI Extensions</a> or implemented within the AEM project (<a href="https://github.com/wcm-io/io.wcm.wcm.ui.granite/blob/develop/src/main/webapp/app-root/clientlibs/io.wcm.ui.granite.validation/js/validation.js" class="externalLink">example</a>).</p>
   <p>The benefit of implementing and registering a validator in this way is that it can be used in both Context-Aware Configuration Editor and Edit dialog. But it is not possible to implement asynchronous validations, so this is not the best fit if the validation e.g. involves HTTP requests. Additionally the Context-Aware Configuration Editor cannot display the actual validation message returned by the validator, it always displays the validation message provided via the <code>validationMessage</code> property.</p>
   <p>The client library that contains the validator has to be registered to the category <code>io.wcm.caconfig.editor.validation</code>.</p>
  </section>
  <section>
   <a id="Validating_with_custom_validator"></a>
   <h3 id="validating_with_custom_validator">Validating with custom validator</h3>
   <p>Registering a custom validator provides most flexibility. Example for a simple synchronous validator:</p>
   <pre><code class="language-javascript">var registry = $(window).adaptTo("foundation-registry");

registry.register('io.wcm.caconfig.editor.validator', {
  name: 'my-custom-validator',
  validate: function(value) {
    // return true if validation was successful
    return /^[0-9a-f]+$/.test(value)
  }
});

</code></pre>
   <p>If the validation involves calling AEM or other backends via HTTP, and asynchronous validator should be used. Example:</p>
   <pre><code class="language-javascript">registry.register('io.wcm.caconfig.editor.validator', {
  name: 'my-custom-async-validator',
  async: true,
  validate: function(value, options) {
    return new Promise((resolve, reject) =&gt; {
      // execute backend call
      // call resolve() if validation was successful, reject() if not or a communication error occurred
    });
  }
});
</code></pre>
   <p>Two parameters are provided for the <code>validate</code> method:</p>
   <ul>
    <li><code>value</code>: The value to validate</li>
    <li><code>options</code>: Further context options. Contains currently only one property <code>contextPath</code> which contains the root page path of the context-aware configuration context. This can be used to make request to Sling Servlets bound to resources in context of the site/tenant where the editor is opened.</li>
   </ul>
   <p>The client library that contains the validator has to be registered to the category <code>io.wcm.caconfig.editor.validation</code>.</p>
   <p>See <a href="https://github.com/wcm-io/io.wcm.caconfig.sample-app/blob/develop/bundles/core/src/main/webapp/app-root/clientlibs/contextaware-config-sample-validation/js/sample-validation.js" class="externalLink">examples</a> for custom validators.</p>
  </section>
 </section>
</section>
      </div>
    </div>
    <div class="span4">
      <div id="toc-sidebar">
        <div class="well">
          <ul class="nav nav-list">
            <li class="nav-header">Table of Contents</li>
    <li class="dropdown"><a href="#field_validation" title="Field Validation">Field Validation <b class="caret"></b></a>
      <ul class="nav nav-list">
    <li><a href="#overview" title="Overview">Overview</a>
    <li><a href="#configuring_validation" title="Configuring validation">Configuring validation</a>
    <li><a href="#validating_with_granite_ui_foundation_validators" title="Validating with Granite UI foundation validators">Validating with Granite UI foundation validators</a>
    <li><a href="#validating_with_custom_validator" title="Validating with custom validator">Validating with custom validator</a>
        <li class="divider"></li>
      </ul>
    </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  </div>

  </div>

  <!-- Footer
  ================================================== -->
  <footer class="well">
    <div class="container">
      <div class="row">
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Main</li>
            <li >
              <a href="../../" title="Home">Home</a>
            </li>
            <li >
              <a href="../../platforms.html" title="Platforms">Platforms</a>
            </li>
            <li >
              <a href="../../maven.html" title="Maven Repositories">Maven Repositories</a>
            </li>
            <li >
              <a href="https://github.com/wcm-io" title="GitHub project" class="externalLink">GitHub project</a>
            </li>
            <li >
              <a href="../../subprojects.html" title="Subprojects">Subprojects</a>
            </li>
            <li >
              <a href="http://www.apache.org/licenses/LICENSE-2.0.txt" title="License" class="externalLink">License</a>
            </li>
            <li >
              <a href="../../commercial-support.html" title="Commercial Support">Commercial Support</a>
            </li>
            <li >
              <a href="https://diva-e.com/en/imprint/" title="Imprint" class="externalLink">Imprint</a>
            </li>
            <li >
              <a href="../../privacy.html" title="Privacy Policy">Privacy Policy</a>
            </li>
          </ul>
        </div>
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Categories</li>
            <li >
              <a href="../../wcm/" title="WCM">WCM</a>
            </li>
            <li >
              <a href="../" title="Context-Aware Configuration">Context-Aware Configuration</a>
            </li>
            <li >
              <a href="../../handler/" title="Handler">Handler</a>
            </li>
            <li >
              <a href="../../sling/" title="Sling Extensions">Sling Extensions</a>
            </li>
            <li >
              <a href="../../testing/" title="Testing">Testing</a>
            </li>
            <li >
              <a href="../../samples/" title="Samples">Samples</a>
            </li>
            <li >
              <a href="../../tooling/" title="Tooling">Tooling</a>
            </li>
          </ul>
        </div>
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Contribute</li>
            <li >
              <a href="../../contribute.html" title="Contribute">Contribute</a>
            </li>
            <li >
              <a href="../../manifest.html" title="Manifest">Manifest</a>
            </li>
            <li >
              <a href="https://github.com/wcm-io" title="Issues" class="externalLink">Issues</a>
            </li>
            <li >
              <a href="https://wcm-io.atlassian.net/wiki/" title="Wiki" class="externalLink">Wiki</a>
            </li>
            <li >
              <a href="../../mailing-lists.html" title="Mailing Lists">Mailing Lists</a>
            </li>
            <li >
              <a href="https://github.com/wcm-io" title="Fork on GitHub" class="externalLink">Fork on GitHub</a>
            </li>
          </ul>
        </div>
        <div class="span3 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Maven documentation</li>
            <li >
              <a href="project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
            </li>
            <li >
              <a href="project-reports.html" title="Project Reports">Project Reports <i class="icon-chevron-right"></i></a>
            </li>
          </ul>
        </div>
        <div class="span3 bottom-description">
          <blockquote>wcm.io is an Open Source project which provides libraries and extensions for AEM-based applications.</blockquote>
        </div>
      </div>
    </div>
  </footer>

  <div class="container subfooter">
    <div class="row">
      <div class="span12">
        <p class="pull-right"><a href="#body">Back to top</a></p>
        <p class="copyright">Copyright &copy;2014-2025 <a href="https://wcm.io">wcm.io</a>. All Rights Reserved.</p>
        <p class="version-date"><span class="projectVersion">Version: 1.16.7-SNAPSHOT. </span><span class="publishDate">Last Published: 2024-09-30. </span></p>
      </div>
    </div>
  </div>

  <!-- JavaScript
  ================================================== -->
  <script src="https://wcm.io/js/jquery.min.js"></script>
  <script src="https://wcm.io/js/bootstrap.min.js"></script>
  <script src="https://wcm.io/js/lightbox.min.js"></script>
  <script src="https://wcm.io/js/reflow-scroll.js"></script>
  <script src="https://wcm.io/js/json5.min.js"></script>
  <script src="https://wcm.io/js/reflow-json-jcr-convert.js"></script>
  <script src="https://wcm.io/js/highlight.min.js"></script>


  <script src="https://wcm.io/js/reflow-skin.js"></script>

  </body>
</html>