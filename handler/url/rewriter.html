<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia 2.0.0
 Rendered using Reflow Maven Skin 1.3.2 (https://github.com/wcm-io/wcm-io-tooling/tree/develop/maven/skins/reflow-maven-skin)
-->
<html xml:lang="en" lang="en">

  <head>
    <meta charset="UTF-8" />
    <title>Sling Rewriter Integration | wcm.io</title>

    <link rel="shortcut icon" href="https://wcm.io/images/favicon.ico">
    <link rel="apple-touch-icon" href="https://wcm.io/images/favicon-152.png">

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="wcm.io - Libraries and extensions for AEM applications" />
    <meta http-equiv="content-language" content="en" />

    <link href="https://wcm.io/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://wcm.io/css/docs.css" rel="stylesheet" />
    <link href="https://wcm.io/css/reflow-skin.css" rel="stylesheet" />
    <link href="https://wcm.io/css/highlightjs-style-github.min.css" rel="stylesheet" />

    <link href="https://wcm.io/css/lightbox.css" rel="stylesheet" />

    <link href="https://wcm.io/css/site.css" rel="stylesheet" />
    <link href="https://wcm.io/css/print.css" rel="stylesheet" media="print" />

  </head>

  <body class="page-rewriter project-io.wcm.handler.url" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target" id="body">

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../..">wcm.io</a>
          <div class="nav-collapse collapse" id="top-nav-collapse">
            <ul class="nav pull-right">
              <li ><a href="https://github.com/wcm-io" title="GitHub project" class="externalLink">GitHub project</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Categories <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li ><a href="../../wcm/" title="WCM">WCM</a></li>
                  <li ><a href="../../caconfig/" title="Context-Aware Configuration">Context-Aware Configuration</a></li>
                  <li ><a href="../" title="Handler">Handler</a></li>
                  <li ><a href="../../sling/" title="Sling Extensions">Sling Extensions</a></li>
                  <li ><a href="../../testing/" title="Testing">Testing</a></li>
                  <li ><a href="../../samples/" title="Samples">Samples</a></li>
                  <li ><a href="../../tooling/" title="Tooling">Tooling</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contribute <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li ><a href="../../contribute.html" title="Contribute">Contribute</a></li>
                  <li ><a href="../../manifest.html" title="Manifest">Manifest</a></li>
                  <li ><a href="https://github.com/wcm-io" title="Issues" class="externalLink">Issues</a></li>
                  <li ><a href="https://wcm-io.atlassian.net/wiki/" title="Wiki" class="externalLink">Wiki</a></li>
                  <li ><a href="../../mailing-lists.html" title="Mailing Lists">Mailing Lists</a></li>
                  <li ><a href="https://github.com/wcm-io" title="Fork on GitHub" class="externalLink">Fork on GitHub</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  <div class="container">

  <!-- Masthead
  ================================================== -->

  <header>
  <div class="jumbotron subhead">
    <div class="row" id="banner">
      <div class="span12">
        <div class="pull-left">
          <a href="../../" id="bannerLeft"><h1><img src='https://wcm.io/images/favicon-16@3x.png'/> wcm.io</h1></a>
          <p class="lead">Libraries and extensions for AEM applications</p>
        </div>
        <div class="pull-right">
        </div>
      </div>
    </div>
  </div>
    <div>
      <ul class="breadcrumb">
        <li><a href="../../" title="wcm.io">wcm.io</a></li>
        <li class="divider">/</li>
        <li><a href="../" title="Handler">Handler</a></li>
        <li class="divider">/</li>
        <li><a href="./" title="URL Handler">URL Handler</a></li>
        <li class="divider">/</li>
        <li>Sling Rewriter Integration</li>
      </ul>
    </div>
  </header>

  <div class="main-body">
  <div class="row">
    <div class="span8">
      <div class="body-content">
<section>
 <section>
  <a id="Sling_Rewriter_Integration"></a>
  <div class="page-header">
   <h2 id="sling_rewriter_integration">Sling Rewriter Integration</h2>
  </div>
  <section>
   <a id="Introduction"></a>
   <h3 id="introduction">Introduction</h3>
   <p>Sling has the possibility to rewrite the output/generated markup of a page via a pipelining feature, See <a href="https://sling.apache.org/documentation/bundles/output-rewriting-pipelines-org-apache-sling-rewriter.html" class="externalLink">Output Rewriting Pipelines</a> for details.</p>
   <p>This feature is activated in AEM by default and is used for the AEM-builtin link checker and link rewriting feature.</p>
   <p>The URL handler provides an a transformer implementation named <code>wcm-io-urlhandler-externalizer</code> that can be used to externalize resource URLs within the markup (e.g. links to stylesheets, java script files, static images and others). It is not intended to externalize links to content pages or DAM assets.</p>
  </section>
  <section>
   <a id="Defining_your_own_rewriter_configuration"></a>
   <h3 id="defining_your_own_rewriter_configuration">Defining your own rewriter configuration</h3>
   <p>To enable the <code>wcm-io-urlhandler-externalizer</code> you have to define your own rewriter configuration. This configuration has to be stored in the repository at a path like <code>/apps/{appName}/config/rewriter/{configName}</code>. The <code>{appName}</code> part has to be a single node name, no hierarchy is allowed here.</p>
   <p>Example:</p>
   <pre><code class="language-json-jcr">{
  "jcr:primaryType": "nt:unstructured",
  "enabled": true,
  "generatorType": "htmlparser",
  "transformerTypes": [
    "linkchecker",
    "mobile",
    "mobiledebug",
    "contentsync",
    "wcm-io-urlhandler-externalizer"
  ],
  "serializerType": "htmlwriter",
  "order": "1",
  "contentTypes": [
    "text/html"
  ],
  "transformer-wcm-io-urlhandler-externalizer": {
    "rewriteElements": [
      "img:src",
      "link:href",
      "script:src"
    ]
  }
}
</code></pre>
   <p>Additional remarks:</p>
   <ul>
    <li>You can set define an additional property to apply the configuration only to certain resource types or resource super types. Example:</li>
   </ul>
   <pre><code class="language-json-jcr">"resourceTypes": [
  "/apps/myApp/base/components/global/page"
]
</code></pre>
   <ul>
    <li>You can remove some or all of the AEM-default transformers if you do not need them.</li>
    <li>If you want to rewrite uncommon tag names like <code>&lt;use xlink:href="..."&gt;</code> you may have to update the configuration of the AEM-built-in <code>htmlparser</code> generator. Example:</li>
   </ul>
   <pre><code class="nohighlight nocode">"generator-htmlparser": {
  "includeTags": [
    "A",
    "/A",
    "IMG",
    "AREA",
    "FORM",
    "BASE",
    "LINK",
    "SCRIPT",
    "BODY",
    "/BODY",
    "USE",
    "/USE"
  ]
}
</code></pre>
  </section>
  <section>
   <a id="Configuring_the_wcm-io-urlhandler-externalizer"></a>
   <h3 id="configuring_the_wcm-io-urlhandler-externalizer">Configuring the wcm-io-urlhandler-externalizer</h3>
   <p>You can control which element names and attribute names are rewritten via the <code>rewriteElements</code> attribute of the transformer configuration. This attribute contains an array with element name and attribute name separated by “:”.</p>
   <p>The default values are:</p>
   <ul>
    <li><code>a:href</code></li>
    <li><code>img:src</code></li>
    <li><code>link:href</code></li>
    <li><code>script:src</code></li>
   </ul>
  </section>
 </section>
</section>
      </div>
    </div>
    <div class="span4">
      <div id="toc-sidebar">
        <div class="well">
          <ul class="nav nav-list">
            <li class="nav-header">Table of Contents</li>
    <li class="dropdown"><a href="#sling_rewriter_integration" title="Sling Rewriter Integration">Sling Rewriter Integration <b class="caret"></b></a>
      <ul class="nav nav-list">
    <li><a href="#introduction" title="Introduction">Introduction</a>
    <li><a href="#defining_your_own_rewriter_configuration" title="Defining your own rewriter configuration">Defining your own rewriter configuration</a>
    <li><a href="#configuring_the_wcm-io-urlhandler-externalizer" title="Configuring the wcm-io-urlhandler-externalizer">Configuring the wcm-io-urlhandler-externalizer</a>
        <li class="divider"></li>
      </ul>
    </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  </div>

  </div>

  <!-- Footer
  ================================================== -->
  <footer class="well">
    <div class="container">
      <div class="row">
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Main</li>
            <li >
              <a href="../../" title="Home">Home</a>
            </li>
            <li >
              <a href="../../platforms.html" title="Platforms">Platforms</a>
            </li>
            <li >
              <a href="../../maven.html" title="Maven Repositories">Maven Repositories</a>
            </li>
            <li >
              <a href="https://github.com/wcm-io" title="GitHub project" class="externalLink">GitHub project</a>
            </li>
            <li >
              <a href="../../subprojects.html" title="Subprojects">Subprojects</a>
            </li>
            <li >
              <a href="http://www.apache.org/licenses/LICENSE-2.0.txt" title="License" class="externalLink">License</a>
            </li>
            <li >
              <a href="../../commercial-support.html" title="Commercial Support">Commercial Support</a>
            </li>
            <li >
              <a href="https://diva-e.com/en/imprint/" title="Imprint" class="externalLink">Imprint</a>
            </li>
            <li >
              <a href="../../privacy.html" title="Privacy Policy">Privacy Policy</a>
            </li>
          </ul>
        </div>
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Categories</li>
            <li >
              <a href="../../wcm/" title="WCM">WCM</a>
            </li>
            <li >
              <a href="../../caconfig/" title="Context-Aware Configuration">Context-Aware Configuration</a>
            </li>
            <li >
              <a href="../" title="Handler">Handler</a>
            </li>
            <li >
              <a href="../../sling/" title="Sling Extensions">Sling Extensions</a>
            </li>
            <li >
              <a href="../../testing/" title="Testing">Testing</a>
            </li>
            <li >
              <a href="../../samples/" title="Samples">Samples</a>
            </li>
            <li >
              <a href="../../tooling/" title="Tooling">Tooling</a>
            </li>
          </ul>
        </div>
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Contribute</li>
            <li >
              <a href="../../contribute.html" title="Contribute">Contribute</a>
            </li>
            <li >
              <a href="../../manifest.html" title="Manifest">Manifest</a>
            </li>
            <li >
              <a href="https://github.com/wcm-io" title="Issues" class="externalLink">Issues</a>
            </li>
            <li >
              <a href="https://wcm-io.atlassian.net/wiki/" title="Wiki" class="externalLink">Wiki</a>
            </li>
            <li >
              <a href="../../mailing-lists.html" title="Mailing Lists">Mailing Lists</a>
            </li>
            <li >
              <a href="https://github.com/wcm-io" title="Fork on GitHub" class="externalLink">Fork on GitHub</a>
            </li>
          </ul>
        </div>
        <div class="span3 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Maven documentation</li>
            <li >
              <a href="project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
            </li>
            <li >
              <a href="project-reports.html" title="Project Reports">Project Reports <i class="icon-chevron-right"></i></a>
            </li>
          </ul>
        </div>
        <div class="span3 bottom-description">
          <blockquote>wcm.io is an Open Source project which provides libraries and extensions for AEM-based applications.</blockquote>
        </div>
      </div>
    </div>
  </footer>

  <div class="container subfooter">
    <div class="row">
      <div class="span12">
        <p class="pull-right"><a href="#body">Back to top</a></p>
        <p class="copyright">Copyright &copy;2014-2025 <a href="https://wcm.io">wcm.io</a>. All Rights Reserved.</p>
        <p class="version-date"><span class="projectVersion">Version: 2.1.1-SNAPSHOT. </span><span class="publishDate">Last Published: 2024-03-21. </span></p>
      </div>
    </div>
  </div>

  <!-- JavaScript
  ================================================== -->
  <script src="https://wcm.io/js/jquery.min.js"></script>
  <script src="https://wcm.io/js/bootstrap.min.js"></script>
  <script src="https://wcm.io/js/lightbox.min.js"></script>
  <script src="https://wcm.io/js/reflow-scroll.js"></script>
  <script src="https://wcm.io/js/json5.min.js"></script>
  <script src="https://wcm.io/js/reflow-json-jcr-convert.js"></script>
  <script src="https://wcm.io/js/highlight.min.js"></script>


  <script src="https://wcm.io/js/reflow-skin.js"></script>

  </body>
</html>