
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2021-12-11
 Rendered using Reflow Maven Skin 1.1.0 (https://github.com/wcm-io/wcm-io-tooling/tree/develop/maven/skins/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

  <head>
    <meta charset="UTF-8" />
    <title>RichText Handler RTE link plugin | RichText Handler</title>

    <link rel="shortcut icon" href="https://wcm.io/images/favicon.ico">
    <link rel="apple-touch-icon" href="https://wcm.io/images/favicon-152.png">

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="wcm.io - Libraries and extensions for AEM applications" />
    <meta http-equiv="content-language" content="en" />

    <link href="https://wcm.io/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://wcm.io/css/docs.css" rel="stylesheet" />
    <link href="https://wcm.io/css/reflow-skin.css" rel="stylesheet" />
    <link href="https://wcm.io/css/highlightjs-style-github.min.css" rel="stylesheet" />

    <link href="https://wcm.io/css/lightbox.css" rel="stylesheet" />

    <link href="https://wcm.io/css/site.css" rel="stylesheet" />
    <link href="https://wcm.io/css/print.css" rel="stylesheet" media="print" />


  </head>

  <body class="page-rte-link-plugin project-io.wcm.handler.richtext" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../..">wcm.io</a>
          <div class="nav-collapse collapse" id="top-nav-collapse">
            <ul class="nav pull-right">
              <li ><a href="https://github.com/wcm-io" title="GitHub project" class="externalLink">GitHub project</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Categories <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li ><a href="../../wcm/" title="WCM">WCM</a></li>
                  <li ><a href="../../dam/" title="DAM">DAM</a></li>
                  <li ><a href="../../caconfig/" title="Context-Aware Configuration">Context-Aware Configuration</a></li>
                  <li ><a href="../" title="Handler">Handler</a></li>
                  <li ><a href="../../sling/" title="Sling">Sling</a></li>
                  <li ><a href="../../testing/" title="Testing">Testing</a></li>
                  <li ><a href="../../samples/" title="Samples">Samples</a></li>
                  <li ><a href="../../tooling/" title="Tooling">Tooling</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contribute <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li ><a href="../../contribute.html" title="Contribute">Contribute</a></li>
                  <li ><a href="../../manifest.html" title="Manifest">Manifest</a></li>
                  <li ><a href="https://wcm-io.atlassian.net" title="Issues" class="externalLink">Issues</a></li>
                  <li ><a href="https://wcm-io.atlassian.net/wiki/" title="Wiki" class="externalLink">Wiki</a></li>
                  <li ><a href="../../mailing-lists.html" title="Mailing Lists">Mailing Lists</a></li>
                  <li ><a href="https://github.com/wcm-io" title="Fork on GitHub" class="externalLink">Fork on GitHub</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  <div class="container">

  <!-- Masthead
  ================================================== -->

  <header>
  <div class="jumbotron subhead">
    <div class="row" id="banner">
      <div class="span12">
        <div class="pull-left">
          <a href="../../" id="bannerLeft"><h1><img src="https://wcm.io/images/favicon-16@3x.png"/> wcm.io</h1></a>
          <p class="lead">Libraries and extensions for AEM applications</p>
        </div>
        <div class="pull-right">
        </div>
      </div>
    </div>
  </div>
    <div>
      <ul class="breadcrumb">
        <li><a href="../../" title="wcm.io">wcm.io</a></li>
        <li class="divider">/</li>
        <li><a href="../index.html" title="Handler">Handler</a></li>
        <li class="divider">/</li>
        <li><a href="index.html" title="RichText Handler">RichText Handler</a></li>
        <li class="divider">/</li>
        <li>RichText Handler RTE link plugin</li>
      </ul>
    </div>
  </header>

  <div class="main-body">
  <div class="row">
    <div class="span8">
      <div class="body-content">
<section> 
 <div class="page-header">
  <h2 id="RichText_Handler_RTE_link_plugin">RichText Handler RTE link plugin</h2>
 </div> 
 <p><i>Please note:</i> The RTE link plugin is only supported in AEM 6.3 and higher.</p> 
 <p>The wcm.io RichText Handler includes a plugin for the <a class="externalLink" href="https://helpx.adobe.com/experience-manager/6-4/sites/administering/using/rich-text-editor.html">AEM Rich Text Editor (RTE)</a> that provides all the features from the <a href="../link/">wcm.io Link Handler</a> standard link dialog. It shows a select field to pick the link type and the associated fields. The list of link types that is shown depended on the projectâ€™s link handler configuration. It is possible to add your own fields.</p> 
 <p><img src="images/rte-link-plugin.png" alt="RTE link plugin"></p> 
 <section> 
  <h3 id="Enable_the_RTE_link_plugin">Enable the RTE link plugin</h3> 
  <p>To enable plugin you have to disable the AEM built-in link (<code>links</code>) plugin and instead enable the wcm.io RichText Handler link plugin (<code>wcmio-links</code>):</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>// Configure rich text plugins
"rtePlugins": {
  "links": {
    "features": "-"
  },
  "wcmio-links": {
    "features": [
      "modifylink",
      "unlink"
    ]
  },
  // ...
}
</pre> 
   </div> 
  </div> 
  <p>Within the UI section RTE configuration where the RTE toolbars are defined you have to replace the references to the <code>links</code> plugin with <code>wcmio-links</code>:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>"uiSettings": {
  "cui": {
    "inline": {
      "toolbar": [
        // ...
        "wcmio-links#modifylink",
        "wcmio-links#unlink",
        // ...
        ]
      }
    },
    "fullscreen": {
      "toolbar": [
        // ...
        "wcmio-links#modifylink",
        "wcmio-links#unlink",
        // ...
      ],
    }
  }
}
</pre> 
   </div> 
  </div> 
  <p>For a complete example see <a class="externalLink" href="https://github.com/wcm-io/wcm-io-samples/blob/develop/bundles/core/src/main/webapp/app-root/components/global/include/richTextConfig.json">richTextConfig.json</a>.</p> 
 </section> 
 <section> 
  <h3 id="Customize_the_RTE_link_plugin_dialog">Customize the RTE link plugin dialog</h3> 
  <p>If you want to customize the link plugin dialog you have to create your own custom RTE link plugin that inherits from the wcm.io RichText Handler link plugin. Then you can override some of the methods that control which fields are displayed for each link type or all link types.</p> 
  <p>Example for a custom <code>linkPlugin.js</code>:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>/**
 * Extends wcm.io Richtext Handler RTE Link Plugin with project-specific functionality.
 */
;(function($) {

  myproject.rte.plugins.LinkPlugin = new Class({

    extend: wcmio.handler.richtext.rte.plugins.LinkPlugin,

    getDialogClass: function() {
      return myproject.rte.plugins.LinkDialog;
    },

    initializeUI: function (tbGenerator) {
      // register icon for this plugins toolbar actions
      tbGenerator.registerIcon("myproject.links#modifylink", "link");
      tbGenerator.registerIcon("myproject.links#unlink", "linkOff");
      // call the "super" method
      this.inherited(arguments);
    }

  });

})(window.jQuery);

// register plugin
CUI.rte.plugins.PluginRegistry.register("myproject.links", myproject.rte.plugins.LinkPlugin);
</pre> 
   </div> 
  </div> 
  <p>Example for a custom <code>linkDialog.js</code>:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>/**
 * Custom link dialog that provides all field supported by the link handler.
 */
;(function($) {

  myproject.rte.plugins.LinkDialog = new Class({

    extend: wcmio.handler.richtext.rte.plugins.LinkDialog,

    /**
     * Add fields visible for all link types.
     */
    addAllLinkTypeFields: function(frag, config) {

      // call the "super" method
      this.inherited(arguments);

      frag.appendChild(this.createColumnItem({
        name: "linkNoFollow",
        fn: this.createCheckbox,
        label: "No Follow"
      }));
    }

  });

})(window.jQuery);
</pre> 
   </div> 
  </div> 
  <p>For more details have a look into the <a class="externalLink" href="https://github.com/wcm-io/wcm-io-handler/tree/develop/richtext/src/main/webapp/app-root/clientlibs/rte.plugins/js">sources of the wcm.io RichText Handler link plugin</a>.</p> 
 </section> 
</section>
      </div>
    </div>
    <div class="span4">
      <div id="toc-sidebar">
        <div class="well">
          <ul class="nav nav-list">
            <li class="nav-header">Table of Contents</li>
    <li class="dropdown"><a href="#RichText_Handler_RTE_link_plugin" title="RichText Handler RTE link plugin">RichText Handler RTE link plugin <b class="caret"></b></a>
      <ul class="nav nav-list">
    <li><a href="#Enable_the_RTE_link_plugin" title="Enable the RTE link plugin">Enable the RTE link plugin</a>
    <li><a href="#Customize_the_RTE_link_plugin_dialog" title="Customize the RTE link plugin dialog">Customize the RTE link plugin dialog</a>
        <li class="divider"></li>
      </ul>
    </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  </div>

  </div>

  <!-- Footer
  ================================================== -->
  <footer class="well">
    <div class="container">
      <div class="row">
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Main</li>
            <li >
              <a href="../../" title="Home">Home</a>
            </li>
            <li >
              <a href="../../platforms.html" title="Platforms">Platforms</a>
            </li>
            <li >
              <a href="../../maven.html" title="Maven Repositories">Maven Repositories</a>
            </li>
            <li >
              <a href="https://github.com/wcm-io" title="GitHub project" class="externalLink">GitHub project</a>
            </li>
            <li >
              <a href="../../subprojects.html" title="Subprojects">Subprojects</a>
            </li>
            <li >
              <a href="http://www.apache.org/licenses/LICENSE-2.0.txt" title="License" class="externalLink">License</a>
            </li>
            <li >
              <a href="../../commercial-support.html" title="Commercial Support">Commercial Support</a>
            </li>
            <li >
              <a href="https://diva-e.com/en/imprint/" title="Imprint" class="externalLink">Imprint</a>
            </li>
            <li >
              <a href="../../privacy.html" title="Privacy Policy">Privacy Policy</a>
            </li>
          </ul>
        </div>
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Categories</li>
            <li >
              <a href="../../wcm/" title="WCM">WCM</a>
            </li>
            <li >
              <a href="../../dam/" title="DAM">DAM</a>
            </li>
            <li >
              <a href="../../caconfig/" title="Context-Aware Configuration">Context-Aware Configuration</a>
            </li>
            <li >
              <a href="../" title="Handler">Handler</a>
            </li>
            <li >
              <a href="../../sling/" title="Sling">Sling</a>
            </li>
            <li >
              <a href="../../testing/" title="Testing">Testing</a>
            </li>
            <li >
              <a href="../../samples/" title="Samples">Samples</a>
            </li>
            <li >
              <a href="../../tooling/" title="Tooling">Tooling</a>
            </li>
          </ul>
        </div>
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Contribute</li>
            <li >
              <a href="../../contribute.html" title="Contribute">Contribute</a>
            </li>
            <li >
              <a href="../../manifest.html" title="Manifest">Manifest</a>
            </li>
            <li >
              <a href="https://wcm-io.atlassian.net" title="Issues" class="externalLink">Issues</a>
            </li>
            <li >
              <a href="https://wcm-io.atlassian.net/wiki/" title="Wiki" class="externalLink">Wiki</a>
            </li>
            <li >
              <a href="../../mailing-lists.html" title="Mailing Lists">Mailing Lists</a>
            </li>
            <li >
              <a href="https://github.com/wcm-io" title="Fork on GitHub" class="externalLink">Fork on GitHub</a>
            </li>
          </ul>
        </div>
        <div class="span3 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Maven documentation</li>
            <li >
              <a href="project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
            </li>
            <li >
              <a href="project-reports.html" title="Project Reports">Project Reports <i class="icon-chevron-right"></i></a>
            </li>
          </ul>
        </div>
        <div class="span3 bottom-description">
          <blockquote>wcm.io is an Open Source project which provides libraries and extensions for AEM-based applications.</blockquote>
        </div>
      </div>
    </div>
  </footer>

  <div class="container subfooter">
    <div class="row">
      <div class="span12">
        <p class="pull-right"><a href="#">Back to top</a></p>
        <p class="copyright">Copyright &copy;2014-2021 <a href="https://wcm.io">wcm.io</a>. All Rights Reserved.</p>
        <p class="version-date"><span class="projectVersion">Version: 1.5.7-SNAPSHOT. </span><span class="publishDate">Last Published: 2021-12-11. </span></p>
      </div>
    </div>
  </div>

  <!-- JavaScript
  ================================================== -->
  <script src="https://wcm.io/js/jquery.min.js"></script>
  <script src="https://wcm.io/js/bootstrap.min.js"></script>
  <script src="https://wcm.io/js/lightbox.min.js"></script>
  <script src="https://wcm.io/js/reflow-scroll.js"></script>
  <script src="https://wcm.io/js/highlight.min.js"></script>


  <script src="https://wcm.io/js/reflow-skin.js"></script>

  </body>
</html>