
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2024-04-17
 Rendered using Reflow Maven Skin 1.1.0 (https://github.com/wcm-io/wcm-io-tooling/tree/develop/maven/skins/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

  <head>
    <meta charset="UTF-8" />
    <title>Next-Generation Dynamic Media | wcm.io</title>

    <link rel="shortcut icon" href="https://wcm.io/images/favicon.ico">
    <link rel="apple-touch-icon" href="https://wcm.io/images/favicon-152.png">

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="wcm.io - Libraries and extensions for AEM applications" />
    <meta http-equiv="content-language" content="en" />

    <link href="https://wcm.io/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://wcm.io/css/docs.css" rel="stylesheet" />
    <link href="https://wcm.io/css/reflow-skin.css" rel="stylesheet" />
    <link href="https://wcm.io/css/highlightjs-style-github.min.css" rel="stylesheet" />

    <link href="https://wcm.io/css/lightbox.css" rel="stylesheet" />

    <link href="https://wcm.io/css/site.css" rel="stylesheet" />
    <link href="https://wcm.io/css/print.css" rel="stylesheet" media="print" />


  </head>

  <body class="page-nextgen-dynamic-media project-io.wcm.handler.media" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../..">wcm.io</a>
          <div class="nav-collapse collapse" id="top-nav-collapse">
            <ul class="nav pull-right">
              <li ><a href="https://github.com/wcm-io" title="GitHub project" class="externalLink">GitHub project</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Categories <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li ><a href="../../wcm/" title="WCM">WCM</a></li>
                  <li ><a href="../../caconfig/" title="Context-Aware Configuration">Context-Aware Configuration</a></li>
                  <li ><a href="../" title="Handler">Handler</a></li>
                  <li ><a href="../../sling/" title="Sling Extensions">Sling Extensions</a></li>
                  <li ><a href="../../testing/" title="Testing">Testing</a></li>
                  <li ><a href="../../samples/" title="Samples">Samples</a></li>
                  <li ><a href="../../tooling/" title="Tooling">Tooling</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contribute <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li ><a href="../../contribute.html" title="Contribute">Contribute</a></li>
                  <li ><a href="../../manifest.html" title="Manifest">Manifest</a></li>
                  <li ><a href="https://github.com/wcm-io" title="Issues" class="externalLink">Issues</a></li>
                  <li ><a href="https://wcm-io.atlassian.net/wiki/" title="Wiki" class="externalLink">Wiki</a></li>
                  <li ><a href="../../mailing-lists.html" title="Mailing Lists">Mailing Lists</a></li>
                  <li ><a href="https://github.com/wcm-io" title="Fork on GitHub" class="externalLink">Fork on GitHub</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  <div class="container">

  <!-- Masthead
  ================================================== -->

  <header>
  <div class="jumbotron subhead">
    <div class="row" id="banner">
      <div class="span12">
        <div class="pull-left">
          <a href="../../" id="bannerLeft"><h1><img src="https://wcm.io/images/favicon-16@3x.png"/> wcm.io</h1></a>
          <p class="lead">Libraries and extensions for AEM applications</p>
        </div>
        <div class="pull-right">
        </div>
      </div>
    </div>
  </div>
    <div>
      <ul class="breadcrumb">
        <li><a href="../../" title="wcm.io">wcm.io</a></li>
        <li class="divider">/</li>
        <li><a href="../" title="Handler">Handler</a></li>
        <li class="divider">/</li>
        <li><a href="./" title="Media Handler">Media Handler</a></li>
        <li class="divider">/</li>
        <li>Next-Generation Dynamic Media</li>
      </ul>
    </div>
  </header>

  <div class="main-body">
  <div class="row">
    <div class="span8">
      <div class="body-content">
<section> 
 <div class="page-header">
  <h2 id="Next-Generation_Dynamic_Media">Next-Generation Dynamic Media</h2>
 </div> 
 <p>wcm.io Media Handler optionally supports the <a class="externalLink" href="https://experienceleague.adobe.com/docs/experience-manager-core-components/using/developing/next-gen-dm.html?lang=en">Next Generation Dynamic Media</a> feature of AEM as a Cloud Service for:</p> 
 <ul> 
  <li>Rendering renditions including resizing and cropping</li> 
  <li>Delivery via Next Generation Dynamic Media CDN</li> 
  <li>AI-based Smart Cropping</li> 
 </ul> 
 <p>Next Generation Dynamic Media support is never applied to assets stored in the AEMaaCS instance itself, but only for remote assets referenced via the Next Generation Dynamic Media asset picker. Those remote asset references typically start with <code>/urn:aaid:aem:...</code>. When Next Generation Dynamic Media is enabled for an AEMaaCS instance, the asset picker is shown automatically for Media Handler Granite UI widgets.</p> 
 <p>Remote assets are only shown in the asset picker, if they have “approval” state. The publish state of the asset inside AEM is not relevant.</p> 
 <section> 
  <h3 id="Dynamic_Media_concept">Dynamic Media concept</h3> 
  <p>The integration with Next Generation Dynamic Media builds on the <a href="general-concepts.html">general concepts</a> of the Media Handler using media formats and a unified media handling API to resolve the renditions for each use case.</p> 
  <p>If a Next Generation Dynamic Media remote asset is used, the media handler returns rendition URLs pointing to the remote asset instance using the <a class="externalLink" href="https://adobe-aem-assets-delivery-experimental.redoc.ly/">Assets Delivery API (DM API)</a>. From the <a href="file-format-support.html">supported file formats</a> Next Generation Dynamic Media supports scaling and smart cropping for JPEG, PNG, GIF and TIFF images. All other file formats including SVG images are delivered as original binary via the Next Generation Dynamic Media CDN.</p> 
  <p>It's not required to configure anything in the component instance edit dialogs or content policies.</p> 
 </section> 
 <section> 
  <h3 id="Smart_Cropping">Smart Cropping</h3> 
  <p>Smart Cropping is used automatically if a media format with a specific ratio (e.g. 16:9) is used.</p> 
  <p>Media formats without any size restrictions, or e.g. only with a width restrictions, can be rendered, but are not cropped.</p> 
 </section> 
 <section> 
  <h3 id="Validating_Remote_Asset_Metadata">Validating Remote Asset Metadata</h3> 
  <p>By default, the Media Handler assumes that a given remote asset reference is always valid, and supports all requested resolutions.</p> 
  <p>Optionally, you can enable the metadata service. If enabled, each time a remote asset reference is resolved, the following checks are executed:</p> 
  <ul> 
   <li>If the remote asset does not exist, or is not approved, the reference is handled as invalid and the component can react to it (e.g. hide the image component)</li> 
   <li>If the requested resolution of a rendition is larger than the original resolution of the binary asset, the rendition is handled as invalid. This avoid upscaling, and avoids using an asset in a context which would result in bad image quality for the user.</li> 
  </ul> 
  <p>See system configuration how to enable the metadata service.</p> 
 </section> 
 <section> 
  <h3 id="System_configuration">System configuration</h3> 
  <p>If Next Generation Dynamic Media is enabled for a AEMaaCS instance, it will work out-of-the-box with the Media Handler. In your project-specific implementation of <code>io.wcm.handler.media.spi.MediaHandlerConfig</code> you have to add the media sources implementation <code>io.wcm.handler.mediasource.ngdm.NextGenDynamicMediaMediaSource</code> to the list returned by the <code>getSources()</code> method (overwrite it from the superclass if required).</p> 
  <p>The “wcm.io Next Generation Dynamic Media Support” OSGi configuration allows to reconfigure the actual URLs used for the <a class="externalLink" href="https://adobe-aem-assets-delivery-experimental.redoc.ly/">Assets Delivery API (DM API)</a>. Usually you can stick with the default values which reflect the latest version of the DM API.</p> 
  <p>The “wcm.io Next Generation Dynamic Media Metadata Service” allows to enable the Asset Metadata support (see above). When this is enabled, for each resolved remote asset, a HTTP request is send from the server to the DM API, so make sure this is allowed in the network infrastructure (should work by default in AEMaaCS instances). Optionally, you can configure an proxy server and timeouts.</p> 
 </section> 
 <section> 
  <h3 id="Known_Limitations_.28as_of_March_2024.29">Known Limitations (as of March 2024)</h3> 
  <ul> 
   <li>The DM API URLs still have to contain an <code>accept-experimental</code> URL parameter, and the metadata services has to use an <code>X-Adobe-Accept-Experimental</code> HTTP header. Both will fade out once Next Generation Dynamic Media reaches full general availability (expected later in 2024).</li> 
   <li>Next Generation Dynamic Media is not supported in Media Handler for AEM 6.x, only for AEMaaCS</li> 
   <li>Same as the Adobe Core Components, currently only a single remote AEM Asset instance is supported, which is configured centrally as described in <a class="externalLink" href="https://experienceleague.adobe.com/docs/experience-manager-core-components/using/developing/next-gen-dm.html?lang=en">Next Generation Dynamic Media</a>. The media handler is used the same convention for referencing remote assets (using strings starting with <code>/urn:aaid:aem:...</code>). This convention also does not support multiple remote AEM Asset instances, as it does not include a pointer to the Repository ID.</li> 
   <li>If a component dialog is re-opened with a remote asset references and one of the Media Handler Granite UI widgets (e.g. pathfield), no thumbnail is displayed for the remote asset. But the reference is valid and works. The root cause is a bug/limitation in the underlying AEM pathfield component, which hopefully will be fixed soon by Adobe (SITES-19894).</li> 
   <li>The Next Generation Dynamic Media remote asset picker currently ignored any folder structures for assets on the remote AEM Asset instance.</li> 
   <li>The DM API currently does not support sending a “Content-Disposition: attachment” HTTP header for downloads. So even, if this is enforced by the Media Handler, it currently does not work for remote assets.</li> 
  </ul> 
 </section> 
</section>
      </div>
    </div>
    <div class="span4">
      <div id="toc-sidebar">
        <div class="well">
          <ul class="nav nav-list">
            <li class="nav-header">Table of Contents</li>
    <li class="dropdown"><a href="#Next-Generation_Dynamic_Media" title="Next-Generation Dynamic Media">Next-Generation Dynamic Media <b class="caret"></b></a>
      <ul class="nav nav-list">
    <li><a href="#Dynamic_Media_concept" title="Dynamic Media concept">Dynamic Media concept</a>
    <li><a href="#Smart_Cropping" title="Smart Cropping">Smart Cropping</a>
    <li><a href="#Validating_Remote_Asset_Metadata" title="Validating Remote Asset Metadata">Validating Remote Asset Metadata</a>
    <li><a href="#System_configuration" title="System configuration">System configuration</a>
    <li><a href="#Known_Limitations_.28as_of_March_2024.29" title="Known Limitations (as of March 2024)">Known Limitations (as of March 2024)</a>
        <li class="divider"></li>
      </ul>
    </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  </div>

  </div>

  <!-- Footer
  ================================================== -->
  <footer class="well">
    <div class="container">
      <div class="row">
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Main</li>
            <li >
              <a href="../../" title="Home">Home</a>
            </li>
            <li >
              <a href="../../platforms.html" title="Platforms">Platforms</a>
            </li>
            <li >
              <a href="../../maven.html" title="Maven Repositories">Maven Repositories</a>
            </li>
            <li >
              <a href="https://github.com/wcm-io" title="GitHub project" class="externalLink">GitHub project</a>
            </li>
            <li >
              <a href="../../subprojects.html" title="Subprojects">Subprojects</a>
            </li>
            <li >
              <a href="http://www.apache.org/licenses/LICENSE-2.0.txt" title="License" class="externalLink">License</a>
            </li>
            <li >
              <a href="../../commercial-support.html" title="Commercial Support">Commercial Support</a>
            </li>
            <li >
              <a href="https://diva-e.com/en/imprint/" title="Imprint" class="externalLink">Imprint</a>
            </li>
            <li >
              <a href="../../privacy.html" title="Privacy Policy">Privacy Policy</a>
            </li>
          </ul>
        </div>
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Categories</li>
            <li >
              <a href="../../wcm/" title="WCM">WCM</a>
            </li>
            <li >
              <a href="../../caconfig/" title="Context-Aware Configuration">Context-Aware Configuration</a>
            </li>
            <li >
              <a href="../" title="Handler">Handler</a>
            </li>
            <li >
              <a href="../../sling/" title="Sling Extensions">Sling Extensions</a>
            </li>
            <li >
              <a href="../../testing/" title="Testing">Testing</a>
            </li>
            <li >
              <a href="../../samples/" title="Samples">Samples</a>
            </li>
            <li >
              <a href="../../tooling/" title="Tooling">Tooling</a>
            </li>
          </ul>
        </div>
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Contribute</li>
            <li >
              <a href="../../contribute.html" title="Contribute">Contribute</a>
            </li>
            <li >
              <a href="../../manifest.html" title="Manifest">Manifest</a>
            </li>
            <li >
              <a href="https://github.com/wcm-io" title="Issues" class="externalLink">Issues</a>
            </li>
            <li >
              <a href="https://wcm-io.atlassian.net/wiki/" title="Wiki" class="externalLink">Wiki</a>
            </li>
            <li >
              <a href="../../mailing-lists.html" title="Mailing Lists">Mailing Lists</a>
            </li>
            <li >
              <a href="https://github.com/wcm-io" title="Fork on GitHub" class="externalLink">Fork on GitHub</a>
            </li>
          </ul>
        </div>
        <div class="span3 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Maven documentation</li>
            <li >
              <a href="project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
            </li>
            <li >
              <a href="project-reports.html" title="Project Reports">Project Reports <i class="icon-chevron-right"></i></a>
            </li>
          </ul>
        </div>
        <div class="span3 bottom-description">
          <blockquote>wcm.io is an Open Source project which provides libraries and extensions for AEM-based applications.</blockquote>
        </div>
      </div>
    </div>
  </footer>

  <div class="container subfooter">
    <div class="row">
      <div class="span12">
        <p class="pull-right"><a href="#">Back to top</a></p>
        <p class="copyright">Copyright &copy;2014-2024 <a href="https://wcm.io">wcm.io</a>. All Rights Reserved.</p>
        <p class="version-date"><span class="projectVersion">Version: 2.0.5-SNAPSHOT. </span><span class="publishDate">Last Published: 2024-04-17. </span></p>
      </div>
    </div>
  </div>

  <!-- JavaScript
  ================================================== -->
  <script src="https://wcm.io/js/jquery.min.js"></script>
  <script src="https://wcm.io/js/bootstrap.min.js"></script>
  <script src="https://wcm.io/js/lightbox.min.js"></script>
  <script src="https://wcm.io/js/reflow-scroll.js"></script>
  <script src="https://wcm.io/js/highlight.min.js"></script>


  <script src="https://wcm.io/js/reflow-skin.js"></script>

  </body>
</html>