<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from src/site/markdown/usage.md.vm at 2021-09-02

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <title>wcm.io Maven Archetype for AEM &#x2013; Maven Archetype for AEM usage</title>
    <link rel="stylesheet" href="./css/maven-base.css" />
    <link rel="stylesheet" href="./css/maven-theme.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
  </head>
  <body class="composite">
    <div id="banner">
<div id="bannerLeft">wcm.io Maven Archetype for AEM
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="publishDate">Last Published: 2021-09-02</span>
          &#xA0;| <span id="projectVersion">Version: 3.3.5-SNAPSHOT</span>
      </div>
      <div class="xright"><a href="./" title="wcm.io Maven Archetype for AEM">wcm.io Maven Archetype for AEM</a>      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>Parent Project</h5>
    <ul>
     <li class="none"><a href="tooling/maven/index.html" title="Maven Tooling">Maven Tooling</a></li>
    </ul>
       <h5>Project Documentation</h5>
    <ul>
     <li class="collapsed"><a href="project-info.html" title="Project Information">Project Information</a></li>
     <li class="collapsed"><a href="project-reports.html" title="Project Reports">Project Reports</a></li>
    </ul>
      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
<section>
<h2><a name="Maven_Archetype_for_AEM_usage"></a>Maven Archetype for AEM usage</h2><section>
<h3><a name="Basic_usage"></a>Basic usage</h3>
<p>Generate a new AEM project using interactive mode by executing:</p>

<div class="source">
<div class="source">
<pre>mvn org.apache.maven.plugins:maven-archetype-plugin:3.1.0:generate \
  -DarchetypeGroupId=io.wcm.maven.archetypes \
  -DarchetypeArtifactId=io.wcm.maven.archetypes.aem \
  -DarchetypeVersion=3.3.4
</pre></div></div>

<p>As minimal input parameters you have to enter a value for <code>groupId</code> and <code>projectName</code> - all other parameters can be derived from these or have sensible default parameters. But in most cases you want to specify more parameters, see next chapters for all available parameters and some examples.</p></section><section>
<h3><a name="Archetype_parameters"></a>Archetype parameters</h3>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th> Parameter                           </th>
<th> Default </th>
<th> Description</th></tr>
</thead><tbody>

<tr class="b">
<td> <b>projectName</b>                     </td>
<td>         </td>
<td> Project name is used for building AEM apps path, content path, CONGA role names etc.</td></tr>
<tr class="a">
<td> <b>groupId</b>                         </td>
<td>         </td>
<td> Maven artifact groupId for all projects</td></tr>
<tr class="b">
<td> <b>artifactId</b>                      </td>
<td> *)     </td>
<td> Maven artifact &#x201c;root&#x201d; artifactId, is suffixed for the individual modules</td></tr>
<tr class="a">
<td> <b>version</b>                         </td>
<td> *)     </td>
<td> Maven artifact version - e.g. 1.0.0-SNAPSHOT</td></tr>
<tr class="b">
<td> <b>package</b>                         </td>
<td> *)     </td>
<td> Java class package name</td></tr>
<tr class="a">
<td> <b>packageGroupName</b>                </td>
<td> *)     </td>
<td> Group name for AEM content package</td></tr>
<tr class="b">
<td> <b>aemAuthorPort</b>                   </td>
<td> 4502    </td>
<td> Default port for local AEM author instance</td></tr>
<tr class="a">
<td> <b>aemPublishPort</b>                  </td>
<td> 4503    </td>
<td> Default port for local AEM publish instance</td></tr>
<tr class="b">
<td> <b>optionJavaVersion</b>               </td>
<td> 8       </td>
<td> Java version (8 or 11)</td></tr>
<tr class="a">
<td> <b>optionAemVersion</b>                </td>
<td> cloud   </td>
<td> AEM major version (<code>6.4</code>, <code>6.5</code> or <code>cloud</code>)</td></tr>
<tr class="b">
<td> <b>optionAemServicePack</b>            </td>
<td> n       </td>
<td> Use latest service pack for AEM version - you need to deploy artifacts following <a class="externalLink" href="https://wcm-io.atlassian.net/wiki/x/AYC9Aw">these conventions</a></td></tr>
<tr class="a">
<td> <b>optionSlingModelsLatest</b>         </td>
<td> n       </td>
<td> Use latest Sling Models version</td></tr>
<tr class="b">
<td> <b>optionSlingInitialContentBundle</b> </td>
<td> y       </td>
<td> <b>y</b>: AEM application projects is set up with scripts and content parts as JSON files within the OSGi bundle with Sling-Initial Content, suitable for <a class="externalLink" href="https://adapt.to/2017/en/schedule/ease-development-with-apache-sling-file-system-resource-provider.html">File System Resource Provider</a>. <i>Works with all AEM versions.</i><br /><b>n</b>: Projects are set up with FileVault package layout, suitable for <a class="externalLink" href="https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/aem-eclipse.html">AEM Developer Tools for Eclipse</a> (<a class="externalLink" href="https://sling.apache.org/documentation/development/ide-tooling.html">Sling IDE</a>).</td></tr>
<tr class="a">
<td> <b>optionEditableTemplates</b>         </td>
<td> y       </td>
<td> Set up projects using editable templates.</td></tr>
<tr class="b">
<td> <b>optionMultiBundleLayout</b>         </td>
<td> n       </td>
<td> Split up AEM application in multiple bundles for modularizing large AM applications. <i>Requires optionSlingInitialContentBundle=&#x2018;y&#x2019;.</i></td></tr>
<tr class="a">
<td> <b>optionContextAwareConfig</b>        </td>
<td> y       </td>
<td> Setup project with <a class="externalLink" href="https://sling.apache.org/documentation/bundles/context-aware-configuration/context-aware-configuration.html">Sling Context-Aware Configuration</a> and <a class="externalLink" href="https://wcm.io/caconfig/">wcm.io Context-Aware Configuration</a> extensions.</td></tr>
<tr class="b">
<td> <b>optionFrontend</b>                  </td>
<td> n       </td>
<td> Setup frontend build project with <a class="externalLink" href="https://webpack.js.org/">webpack</a></td></tr>
<tr class="a">
<td> <b>optionNodeJsPlugin</b>              </td>
<td> n       </td>
<td> Use <a class="externalLink" href="https://wcm.io/tooling/maven/plugins/nodejs-maven-plugin/">wcm.io Node JS plugin</a> for frontend build (recommended when <a class="externalLink" href="https://github.com/wcm-io-devops/maven-nodejs-proxy">Maven NodeJS Proxy</a> is used). If not enabled the <a class="externalLink" href="https://github.com/eirslett/frontend-maven-plugin">frontend-maven-plugin</a> is used instead. For AEM Cloud Service it is recommended to stick with frontend-maven-plugin.</td></tr>
<tr class="b">
<td> <b>optionWcmioHandler</b>              </td>
<td> n       </td>
<td> Setup project using wcm.io AEM libraries, especially the <a class="externalLink" href="https://wcm.io/handler">wcm.io Handler</a> Infrastructure and <a class="externalLink" href="https://wcm.io/wcm/core-components/">wcm.io WCM Core Components</a>. <i>Requires optionContextAwareConfig=&#x2018;y&#x2019;.</i></td></tr>
<tr class="a">
<td> <b>optionAcsCommons</b>                </td>
<td> n       </td>
<td> Deploy <a class="externalLink" href="https://adobe-consulting-services.github.io/acs-aem-commons/">ACS AEM Commons</a>.</td></tr>
<tr class="b">
<td> <b>optionIntegrationTests</b>          </td>
<td> n       </td>
<td> Generate an integration tests project based on <a class="externalLink" href="https://github.com/adobe/aem-testing-clients">AEM testing clients</a>.</td></tr>
</tbody>
</table>
<p>*) Sensible default</p></section><section>
<h3><a name="Usage_examples"></a>Usage examples</h3><section><section>
<h5><a name="AEM_project_with_wcm.io_and_Sling-Initial-Content_project_layout_and_Java_11_for_AEM_6.5"></a>AEM project with wcm.io and Sling-Initial-Content project layout and Java 11 for AEM 6.5</h5>

<div class="source">
<div class="source">
<pre>mvn org.apache.maven.plugins:maven-archetype-plugin:3.1.0:generate -DinteractiveMode=false \
  -DarchetypeGroupId=io.wcm.maven.archetypes \
  -DarchetypeArtifactId=io.wcm.maven.archetypes.aem \
  -DarchetypeVersion=3.3.4 \
  -DprojectName=myproject1 \
  -DgroupId=mycompany.myprojectgroup \
  -DartifactId=mycompany.myprojectgroup.myproject1 \
  -Dversion=1.0.0-SNAPSHOT \
  -Dpackage=mycompany.myprojectgroup.myproject1 \
  -DpackageGroupName=mycompany \
  -DaemAuthorPort=4502 \
  -DaemPublishPort=4503 \
  -DoptionJavaVersion=11 \
  -DoptionAemVersion=6.5 \
  -DoptionAemServicePack=n \
  -DoptionSlingModelsLatest=y \
  -DoptionSlingInitialContentBundle=y \
  -DoptionEditableTemplates=y \
  -DoptionMultiBundleLayout=n \
  -DoptionContextAwareConfig=y \
  -DoptionWcmioHandler=y \
  -DoptionAcsCommons=n \
  -DoptionFrontend=y \
  -DoptionNodeJsPlugin=n \
  -DoptionIntegrationTests=n
</pre></div></div>
</section><section>
<h5><a name="Minimal_AEM_project_with_FileVault_package_layout_and_Java_8_for_AEM_Cloud_Service"></a>Minimal AEM project with FileVault package layout and Java 8 for AEM Cloud Service</h5>

<div class="source">
<div class="source">
<pre>mvn org.apache.maven.plugins:maven-archetype-plugin:3.1.0:generate -DinteractiveMode=false \
  -DarchetypeGroupId=io.wcm.maven.archetypes \
  -DarchetypeArtifactId=io.wcm.maven.archetypes.aem \
  -DarchetypeVersion=3.3.4 \
  -DprojectName=myproject2 \
  -DgroupId=mycompany.myprojectgroup \
  -DartifactId=mycompany.myprojectgroup.myproject2 \
  -Dversion=1.0.0-SNAPSHOT \
  -Dpackage=mycompany.myprojectgroup.myproject2 \
  -DpackageGroupName=mycompany \
  -DaemAuthorPort=4502 \
  -DaemPublishPort=4503 \
  -DoptionJavaVersion=8 \
  -DoptionAemVersion=cloud \
  -DoptionAemServicePack=n \
  -DoptionSlingModelsLatest=n \
  -DoptionSlingInitialContentBundle=n \
  -DoptionEditableTemplates=y \
  -DoptionMultiBundleLayout=n \
  -DoptionContextAwareConfig=y \
  -DoptionWcmioHandler=n \
  -DoptionAcsCommons=n \
  -DoptionFrontend=n \
  -DoptionNodeJsPlugin=n \
  -DoptionIntegrationTests=n
</pre></div></div>
</section></section></section><section>
<h3><a name="Requirements"></a>Requirements</h3>
<ul>

<li>Java 8 or Java 11</li>
<li>Apache Maven 3.3.9 or higher</li>
<li>AEM 6.4, 6.5 or AEM Cloud Service</li>
<li>Optional: If you want to install latest service packs you have to upload them manually to your Maven Artifact Manager following <a class="externalLink" href="https://wcm-io.atlassian.net/wiki/x/AYC9Aw">these conventions</a> for naming them.</li>
</ul></section></section>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2014&#x2013;2021<a href="https://wcm.io">wcm.io</a>.
.      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>