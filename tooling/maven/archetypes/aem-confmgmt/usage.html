
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2021-02-27
 Rendered using Reflow Maven Skin 1.1.0-SNAPSHOT (https://github.com/wcm-io/wcm-io-tooling/tree/develop/maven/skins/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

  <head>
    <meta charset="UTF-8" />
    <title>Maven Archetype for AEM Configuration Management usage | wcm.io Maven Archetype for AEM Configuration Management</title>

    <link rel="shortcut icon" href="https://wcm.io/images/favicon.ico">
    <link rel="apple-touch-icon" href="https://wcm.io/images/favicon-152.png">

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="wcm.io - Libraries and extensions for AEM applications" />
    <meta http-equiv="content-language" content="en" />
 
    <link href="../../../../css/bootstrap.min.css" rel="stylesheet" />
    <link href="../../../../css/docs.css" rel="stylesheet" />
    <link href="../../../../css/reflow-skin.css" rel="stylesheet" />
    <link href="../../../../css/highlightjs-style-github.min.css" rel="stylesheet" />

    <link href="../../../../css/lightbox.css" rel="stylesheet" />

    <link href="../../../../css/site.css" rel="stylesheet" />
    <link href="../../../../css/print.css" rel="stylesheet" media="print" />


  </head>

  <body class="page-usage project-io.wcm.maven.archetypes.aem-confmgmt" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../../../..">wcm.io</a>
          <div class="nav-collapse collapse" id="top-nav-collapse">
            <ul class="nav pull-right">
              <li ><a href="https://github.com/wcm-io" title="GitHub project" class="externalLink">GitHub project</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Categories <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li ><a href="../../../../wcm/" title="WCM">WCM</a></li>
                  <li ><a href="../../../../dam/" title="DAM">DAM</a></li>
                  <li ><a href="../../../../caconfig/" title="Context-Aware Configuration">Context-Aware Configuration</a></li>
                  <li ><a href="../../../../handler/" title="Handler">Handler</a></li>
                  <li ><a href="../../../../sling/" title="Sling">Sling</a></li>
                  <li ><a href="../../../../testing/" title="Testing">Testing</a></li>
                  <li ><a href="../../../../samples/" title="Samples">Samples</a></li>
                  <li ><a href="../../../" title="Tooling">Tooling</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contribute <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li ><a href="../../../../contribute.html" title="Contribute">Contribute</a></li>
                  <li ><a href="../../../../manifest.html" title="Manifest">Manifest</a></li>
                  <li ><a href="https://wcm-io.atlassian.net" title="Issues" class="externalLink">Issues</a></li>
                  <li ><a href="https://wcm-io.atlassian.net/wiki/" title="Wiki" class="externalLink">Wiki</a></li>
                  <li ><a href="../../../../mailing-lists.html" title="Mailing Lists">Mailing Lists</a></li>
                  <li ><a href="https://travis-ci.com/wcm-io" title="Continuous Integration" class="externalLink">Continuous Integration</a></li>
                  <li ><a href="https://github.com/wcm-io" title="Fork on GitHub" class="externalLink">Fork on GitHub</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  <div class="container">

  <!-- Masthead
  ================================================== -->

  <header>
  <div class="jumbotron subhead">
    <div class="row" id="banner">
      <div class="span12">
        <div class="pull-left">
          <a href="../../../../" id="bannerLeft"><h1><img src="https://wcm.io/images/favicon-16@3x.png"/> wcm.io</h1></a>
          <p class="lead">Libraries and extensions for AEM applications</p>
        </div>
        <div class="pull-right">
        </div>
      </div>
    </div>
  </div>
    <div>
      <ul class="breadcrumb">
        <li><a href="../../../../" title="wcm.io">wcm.io</a></li>
        <li class="divider">/</li>
        <li><a href="tooling/index.html" title="Tooling">Tooling</a></li>
        <li class="divider">/</li>
        <li><a href="tooling/maven/index.html" title="Maven Tooling">Maven Tooling</a></li>
        <li class="divider">/</li>
        <li><a href="index.html" title="wcm.io Maven Archetype for AEM Configuration Management">wcm.io Maven Archetype for AEM Configuration Management</a></li>
        <li class="divider">/</li>
        <li>Maven Archetype for AEM Configuration Management usage</li>
      </ul>
    </div>
  </header>

  <div class="main-body">
  <div class="row">
    <div class="span8">
      <div class="body-content">
<section> 
 <div class="page-header">
  <h2 id="Maven_Archetype_for_AEM_Configuration_Management_usage">Maven Archetype for AEM Configuration Management usage</h2>
 </div> 
 <section> 
  <h3 id="Basic_usage">Basic usage</h3> 
  <p>Generate a new AEM project using interactive mode by executing:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>mvn org.apache.maven.plugins:maven-archetype-plugin:3.1.2:generate \
  -DarchetypeGroupId=io.wcm.maven.archetypes \
  -DarchetypeArtifactId=io.wcm.maven.archetypes.aem-confmgmt \
  -DarchetypeVersion=${project.properties['releasedVersion.version']}
</pre> 
   </div> 
  </div> 
  <p>As minimal input parameters you have to enter a value for <code>configurationManagementName</code>, <code>groupId</code> and <code>projectName</code> - all other parameters can be derived from these or have sensible default parameters. But in most cases you want to specify more parameters, see next chapters for all available parameters and some examples.</p> 
 </section> 
 <section> 
  <h3 id="Archetype_parameters">Archetype parameters</h3> 
  <table border="0" class="bodyTable table table-striped table-hover"> 
   <thead> 
    <tr class="a"> 
     <th> Parameter </th> 
     <th> Default </th> 
     <th> Description</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr class="b"> 
     <td> <b>configurationManagementName</b> </td> 
     <td> </td> 
     <td> Name of the configuration management project that is used for tagging the infrastructure. The rules for AWS S3 bucket names should be followed - only lowercase characters, numbers and hyphens allowed.</td> 
    </tr> 
    <tr class="a"> 
     <td> <b>projectName</b> </td> 
     <td> </td> 
     <td> Project name from AEM project</td> 
    </tr> 
    <tr class="b"> 
     <td> <b>groupId</b> </td> 
     <td> </td> 
     <td> Maven artifact groupId from AEM project</td> 
    </tr> 
    <tr class="a"> 
     <td> <b>artifactId</b> </td> 
     <td> *) </td> 
     <td> Maven artifact “root” artifactId from AEM project, is suffixed for the individual modules</td> 
    </tr> 
    <tr class="b"> 
     <td> <b>version</b> </td> 
     <td> *) </td> 
     <td> Maven artifact version from the AEM project - e.g. 1.0.0-SNAPSHOT</td> 
    </tr> 
    <tr class="a"> 
     <td> <b>package</b> </td> 
     <td> *) </td> 
     <td> Java class package name - this is not used for this archetype, but a value has to be specified</td> 
    </tr> 
    <tr class="b"> 
     <td> <i>Credentials and security</i> </td> 
     <td> </td> 
     <td> </td> 
    </tr> 
    <tr class="a"> 
     <td> <b>mavenRepositoryUrl</b> </td> 
     <td> *) </td> 
     <td> URL to maven repository to fetch all artifacts from, including Adobe binaries and the AEM project’s artifact. This should not point to Maven Central.</td> 
    </tr> 
    <tr class="b"> 
     <td> <b>mavenRepositoryUser</b> </td> 
     <td> </td> 
     <td> Username for maven repository</td> 
    </tr> 
    <tr class="a"> 
     <td> <b>mavenRepositoryPassword</b> </td> 
     <td> </td> 
     <td> Password for maven repository</td> 
    </tr> 
    <tr class="b"> 
     <td> <b>aemAdminPassword</b> </td> 
     <td> admin </td> 
     <td> Password for AEM “admin” user and Felix console</td> 
    </tr> 
    <tr class="a"> 
     <td> <b>accessRestrictionIpAddress</b> </td> 
     <td> 0.0.0.0/0 </td> 
     <td> List of IP addresses or IP subnets to restrict access to when accessing the AEM infrastructure. You can specify multiple separated by “,”. Example: 10.0.0.1/10,192.168.0.1</td> 
    </tr> 
    <tr class="b"> 
     <td> <b>ansibleVaultPassword</b> </td> 
     <td> </td> 
     <td> Password for Ansible Vault encryption of all sensitive data in repository</td> 
    </tr> 
    <tr class="a"> 
     <td> <i>AWS settings</i> </td> 
     <td> </td> 
     <td> </td> 
    </tr> 
    <tr class="b"> 
     <td> <b>awsRegion</b> </td> 
     <td> eu-west-1 </td> 
     <td> AWS region</td> 
    </tr> 
    <tr class="a"> 
     <td> <b>awsMachineSize</b> </td> 
     <td> medium </td> 
     <td> AWS machine size (translates to fitting AWS instance types) - <code>small</code>/<code>medium</code>/<code>large</code></td> 
    </tr> 
    <tr class="b"> 
     <td> <i>Java SDK</i> </td> 
     <td> </td> 
     <td> </td> 
    </tr> 
    <tr class="a"> 
     <td> <b>javaMajorVersion</b> </td> 
     <td> 8 </td> 
     <td> Java major version</td> 
    </tr> 
    <tr class="b"> 
     <td> <b>javaMinorVersion</b> </td> 
     <td> 181 </td> 
     <td> Java minor version</td> 
    </tr> 
    <tr class="a"> 
     <td> <b>javaDownloadBaseUrl</b> </td> 
     <td> **) </td> 
     <td> Download base URL for Java SDK binaries</td> 
    </tr> 
    <tr class="b"> 
     <td> <i>File references</i> </td> 
     <td> </td> 
     <td> </td> 
    </tr> 
    <tr class="a"> 
     <td> <b>sshPublicKeyFile</b> </td> 
     <td> id_rsa.pub </td> 
     <td> Path to SSH Public key that is used for authentication on the AWS machines (only required when optionTerraform=‘y’)</td> 
    </tr> 
    <tr class="b"> 
     <td> <b>aemLicensePropertiesFile</b> </td> 
     <td> license.properties </td> 
     <td> Path to AEM license.properties file</td> 
    </tr> 
    <tr class="a"> 
     <td> <i>AEM version</i> </td> 
     <td> </td> 
     <td> </td> 
    </tr> 
    <tr class="b"> 
     <td> <b>optionAemVersion</b> </td> 
     <td> 6.5 </td> 
     <td> AEM major version (6.3, 6.4 or 6.5)</td> 
    </tr> 
    <tr class="a"> 
     <td> <i>Feature flags</i> </td> 
     <td> </td> 
     <td> </td> 
    </tr> 
    <tr class="b"> 
     <td> <b>optionVagrant</b> </td> 
     <td> y </td> 
     <td> Include vagrant file to set up an Ansible control host in a local VM</td> 
    </tr> 
    <tr class="a"> 
     <td> <b>optionTerraform</b> </td> 
     <td> y </td> 
     <td> Include Terraform definition to setup infrastructure on AWS</td> 
    </tr> 
    <tr class="b"> 
     <td> <b>optionAnsible</b> </td> 
     <td> y </td> 
     <td> Include Ansible playbooks to deploy AEM infrastructure</td> 
    </tr> 
   </tbody> 
  </table> 
  <p>*) Sensible default<br> **) Default Java SDK download base URL: <code>http://download.oracle.com/otn-pub/java</code></p> 
 </section> 
 <section> 
  <h3 id="Usage_examples">Usage examples</h3> 
  <p>These examples use the <a class="externalLink" href="https://wcm.io/samples/">wcm.io Samples</a> project as sample AEM project for deployment (it’s available on Maven Central).</p> 
  <section> 
   <h4 id="Setup_with_Ansible.2C_Terraform.2C_Vagrant">Setup with Ansible, Terraform, Vagrant</h4> 
   <div class="source"> 
    <div class="source"> 
     <pre>mvn org.apache.maven.plugins:maven-archetype-plugin:3.1.2:generate -DinteractiveMode=false \
  -DarchetypeGroupId=io.wcm.maven.archetypes \
  -DarchetypeArtifactId=io.wcm.maven.archetypes.aem-confmgmt \
  -DarchetypeVersion=${project.properties['releasedVersion.version']} \
  -DconfigurationManagementName=sample-project-1 \
  -DprojectName=wcm-io-samples \
  -DgroupId=io.wcm.samples \
  -DartifactId=io.wcm.samples \
  -Dversion=1.3.0 \
  -DoptionAemVersion=6.5 \
  -DoptionAnsible=y \
  -DoptionTerraform=y \
  -DoptionVagrant=y \
  -DansibleVaultPassword=mypassword \
  -DaemAdminPassword=admin \
  -DmavenRepositoryUrl=http://your-maven-repository-url/ \
  -DmavenRepositoryUser=user \
  -DmavenRepositoryPassword=password
</pre> 
    </div> 
   </div> 
   <p>You need to place additional files in the working directory where you execute this command:</p> 
   <ul> 
    <li><code>license.properties</code> - Your AEM license.properties file</li> 
    <li><code>id_rsa.pub</code> - SSH key that is used for accessing the AWS machines</li> 
   </ul> 
  </section> 
  <section> 
   <h4 id="Setup_only_with_Ansible">Setup only with Ansible</h4> 
   <div class="source"> 
    <div class="source"> 
     <pre>mvn org.apache.maven.plugins:maven-archetype-plugin:3.1.2:generate -DinteractiveMode=false \
  -DarchetypeGroupId=io.wcm.maven.archetypes \
  -DarchetypeArtifactId=io.wcm.maven.archetypes.aem-confmgmt \
  -DarchetypeVersion=${project.properties['releasedVersion.version']} \
  -DconfigurationManagementName=sample-project-2 \
  -DprojectName=wcm-io-samples \
  -DgroupId=io.wcm.samples \
  -DartifactId=io.wcm.samples \
  -Dversion=1.3.0 \
  -DoptionAemVersion=6.5 \
  -DoptionAnsible=y \
  -DoptionTerraform=n \
  -DoptionVagrant=n \
  -DansibleVaultPassword=mypassword \
  -DaemAdminPassword=admin \
  -DmavenRepositoryUrl=http://your-maven-repository-url/ \
  -DmavenRepositoryUser=user \
  -DmavenRepositoryPassword=password
</pre> 
    </div> 
   </div> 
   <p>You need to place additional files in the working directory where you execute this command:</p> 
   <ul> 
    <li><code>license.properties</code> - Your AEM license.properties file</li> 
   </ul> 
  </section> 
 </section> 
 <section> 
  <h3 id="Requirements">Requirements</h3> 
  <ul> 
   <li>JDK 1.8</li> 
   <li>Apache Maven 3.3.9 or higher</li> 
   <li><b>Important</b>: You have to manually upload the AEM Quickstart JAR and AEM dispatcher binaries to your Maven Artifact Manager following <a class="externalLink" href="https://wcm-io.atlassian.net/wiki/x/AYC9Aw">these conventions</a> for naming them.</li> 
  </ul> 
 </section> 
</section>
      </div>
    </div>
    <div class="span4">
      <div id="toc-sidebar">
        <div class="well">
          <ul class="nav nav-list">
            <li class="nav-header">Table of Contents</li>
    <li class="dropdown"><a href="#Maven_Archetype_for_AEM_Configuration_Management_usage" title="Maven Archetype for AEM Configuration Management usage">Maven Archetype for AEM Configuration Management usage <b class="caret"></b></a>
      <ul class="nav nav-list">
    <li><a href="#Basic_usage" title="Basic usage">Basic usage</a>
    <li><a href="#Archetype_parameters" title="Archetype parameters">Archetype parameters</a>
    <li class="dropdown"><a href="#Usage_examples" title="Usage examples">Usage examples <b class="caret"></b></a>
      <ul class="nav nav-list">
    <li><a href="#Setup_with_Ansible.2C_Terraform.2C_Vagrant" title="Setup with Ansible, Terraform, Vagrant">Setup with Ansible, Terraform, Vagrant</a>
    <li><a href="#Setup_only_with_Ansible" title="Setup only with Ansible">Setup only with Ansible</a>
        <li class="divider"></li>
      </ul>
    </li>
    <li><a href="#Requirements" title="Requirements">Requirements</a>
        <li class="divider"></li>
      </ul>
    </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  </div>

  </div>

  <!-- Footer
  ================================================== -->
  <footer class="well">
    <div class="container">
      <div class="row">
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Main</li>
            <li >
              <a href="../../../../" title="Home">Home</a>
            </li>
            <li >
              <a href="../../../../platforms.html" title="Platforms">Platforms</a>
            </li>
            <li >
              <a href="../../../../maven.html" title="Maven Repositories">Maven Repositories</a>
            </li>
            <li >
              <a href="https://github.com/wcm-io" title="GitHub project" class="externalLink">GitHub project</a>
            </li>
            <li >
              <a href="../../../../subprojects.html" title="Subprojects">Subprojects</a>
            </li>
            <li >
              <a href="../../../../license.html" title="License">License</a>
            </li>
            <li >
              <a href="../../../../commercial-support.html" title="Commercial Support">Commercial Support</a>
            </li>
            <li >
              <a href="../../../../imprint.html" title="Imprint">Imprint</a>
            </li>
            <li >
              <a href="../../../../privacy.html" title="Privacy Policy">Privacy Policy</a>
            </li>
          </ul>
        </div>
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Categories</li>
            <li >
              <a href="../../../../wcm/" title="WCM">WCM</a>
            </li>
            <li >
              <a href="../../../../dam/" title="DAM">DAM</a>
            </li>
            <li >
              <a href="../../../../caconfig/" title="Context-Aware Configuration">Context-Aware Configuration</a>
            </li>
            <li >
              <a href="../../../../handler/" title="Handler">Handler</a>
            </li>
            <li >
              <a href="../../../../sling/" title="Sling">Sling</a>
            </li>
            <li >
              <a href="../../../../testing/" title="Testing">Testing</a>
            </li>
            <li >
              <a href="../../../../samples/" title="Samples">Samples</a>
            </li>
            <li >
              <a href="../../../" title="Tooling">Tooling</a>
            </li>
          </ul>
        </div>
        <div class="span2 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Contribute</li>
            <li >
              <a href="../../../../contribute.html" title="Contribute">Contribute</a>
            </li>
            <li >
              <a href="../../../../manifest.html" title="Manifest">Manifest</a>
            </li>
            <li >
              <a href="https://wcm-io.atlassian.net" title="Issues" class="externalLink">Issues</a>
            </li>
            <li >
              <a href="https://wcm-io.atlassian.net/wiki/" title="Wiki" class="externalLink">Wiki</a>
            </li>
            <li >
              <a href="../../../../mailing-lists.html" title="Mailing Lists">Mailing Lists</a>
            </li>
            <li >
              <a href="https://travis-ci.com/wcm-io" title="Continuous Integration" class="externalLink">Continuous Integration</a>
            </li>
            <li >
              <a href="https://github.com/wcm-io" title="Fork on GitHub" class="externalLink">Fork on GitHub</a>
            </li>
          </ul>
        </div>
        <div class="span3 bottom-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Maven documentation</li>
            <li >
              <a href="project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
            </li>
            <li >
              <a href="project-reports.html" title="Project Reports">Project Reports <i class="icon-chevron-right"></i></a>
            </li>
          </ul>
        </div>
        <div class="span3 bottom-description">
          <blockquote>wcm.io is an Open Source project which provides libraries and extensions for AEM-based applications.</blockquote>
        </div>
      </div>
    </div>
  </footer>

  <div class="container subfooter">
    <div class="row">
      <div class="span12">
        <p class="pull-right"><a href="#">Back to top</a></p>
        <p class="copyright">Copyright &copy;2014-2021 <a href="https://wcm.io">wcm.io</a>. All Rights Reserved.</p>
        <p class="version-date"><span class="projectVersion">Version: 1.2.7-SNAPSHOT. </span><span class="publishDate">Last Published: 2021-02-27. </span></p>
      </div>
    </div>
  </div>

  <!-- JavaScript
  ================================================== -->
  <script src="../../../../js/jquery.min.js"></script>
  <script src="../../../../js/bootstrap.min.js"></script>
  <script src="../../../../js/lightbox.min.js"></script>
  <script src="../../../../js/reflow-scroll.js"></script>
  <script src="../../../../js/highlight.min.js"></script>


  <script src="../../../../js/reflow-skin.js"></script>

  </body>
</html>